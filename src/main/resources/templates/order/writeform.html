<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:sec="http://www.w3.org/1999/xhtml"
      layout:decorator="layout/default">
<!-- index.html 고유 CSS 추가 -->
<th:block layout:fragment="css">
</th:block>
<!-- index.html 고유 스크립트 추가 -->
<th:block layout:fragment="script">
</th:block>
<div layout:fragment="content">
    <form method="post" action="/order/buy" enctype="multipart/form-data">
    <div class="container">
        <div class="row">
            <div class="jumbotron col-lg-12">
                <h3 sec:authorize="isAuthenticated()" th:text="${#strings.replace('회원 주문하기', ' ', '&nbsp;')}" class="display-4"></h3>
                <h3 sec:authorize="!isAuthenticated()" th:text="${#strings.replace('비회원 주문하기', ' ', '&nbsp;')}" class="display-4"></h3>
                <p class="lead">Order & Shipping Information</p>
                <hr class="my-4">
            </div>
            <h3 th:text="${#strings.replace('상품 리스트', ' ', '&nbsp;')}"></h3>
            <div th:each="product: ${products}" th:if="${not #lists.isEmpty(products)}" class="col-lg-12">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item col-sm-12">
                        <span class="col-sm-4"><img src="http://placehold.it/100x100"></span>
                        <span class="col-sm-4" th:text="${product.name}"></span>
                        <span class="col-sm-4" th:text="${product.price}"></span>
                    </li>
                </ul>
            </div>
            <h3 th:text="${totalPrice}? ${totalPrice} : '0'"></h3>
        </div>
    </div>
    <hr class="my-4">
    <div class="container">
        <div class="row">
            <div class="col">
                <div class="card">
                    <div class="card-header">
                        주문자 정보
                    </div>
                    <div class="card-body">
                        <div class="form-group">
                            <input id="name" placeholder="이름" class="form-control" type="text" name="userName">
                        </div>
                        <div class="form-group">
                            <input id="email1" class="form-control" type="email" name="email1" th:placeholder="아이디">
                            <input id="email2" class="form-control" type="email" name="email2" th:placeholder="직접입력">
                        </div>
                        <div class="form-group">
                            <input type="number" class="form-control" name="phone">
                        </div>
                        <input
                                type="hidden"
                                th:name="${_csrf.parameterName}"
                                th:value="${_csrf.token}" />

                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card">
                    <div class="card-header">
                        배송지 정보
                    </div>
                    <div class="card-body">
                        <div class="form-group">
                            <input id="receiverName" placeholder="이름" class="form-control" type="text" name="receiverName">
                        </div>
                        <div class="form-group">
                            <input type="number" class="form-control" name="receiverPhone">
                        </div>
                        <div class="form-group">
                            <input type="number" class="form-control" name="zipCode">
                        </div>
                        <div class="form-group">
                            <input type="text" class="form-control" name="addr1">
                        </div>
                        <div class="form-group">
                            <input type="text" class="form-control" name="addr2">
                        </div>
                    </div>
                </div>
            </div>
            <input type="submit" class="form-control" value="등 록">
        </div>
    </div>
    </form>
</div>